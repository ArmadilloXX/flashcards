language: ruby
rvm: 2.2.3
env:
  global:
  - RAILS_ENV=test
  - secure: b2HxaGCHSIm9d3D1H6PapjU2XWNHINLMeDdkHWhUINHutqL9WS2KA77DP6qziQhNuTaeCaGvLW4BcO2U5IeD+zAgBF+LxhVtMc/9PQKdUdDJ8oSNrZ8c9P/5iNREC/FEy/962BHJn8hhyVPi4I8DqUoe/zX6FrJ6byLKuOLWeN8rJY7kOZH/FJjDWmpTCb/hpom/ye1+OK/3beGelPTHfJw9bOfh7rQQWJ1uhVfM+WGERZdIJmVlXPinTQTEFpt/FUaei1nmK7m9HkRyHs4DYqtIGTuTTeZ9VpzctiZ/LDB2d+lOqMBpbdl/l3PXtsTBdQgSVJR2jVhYcgaF2dYVQtNPx50e+6Ub/LhS55LkVFCZ5++9N8XQ7tggGXaqWVwlt7VLeg+zUsb7YDs7qn3/uqy22b3qAlLOfmsMmtV+JuRPfvpOgxvQtAWfJOV0+kSVgkO6SNKQrUHD53aj1vsFn5W2udGVk0optFnN7/B9+xwEV+T3LK2WCF5TafByWAxCNDoTwtIDzsaoe9XHGBKF3pxoLrRw2KIXjVixW2CkVmryZWbGP69kRSiDvUs/pzcDk4LDDTBQ0l4SqWPjcjI+6afZSZCBl3H8a0Zt6+KKVlMBc1Bak+v1PhG64mLIUIp+Pz+yRMMeRbTCPRkKFXpeIJuksjnpTLpBZuWY/3HlSZM=
  - secure: EAbJdkGrC/rxw9/EiL+NhK9vAYoiJSRTiRhzcnw7Uf+/cwqGmfOxNbTbSZq/210tJJWHvsqx7kt62Us3oIWMcs6e/SiA5ib5GhDd8Z9mx81yOz5Qn68c6ltuxHJ28UBUKaZqQcLtSfe0WNL//QnQpx42rYFLZH9XYfYblHHNvVdkfB9JfBYeb/R9rlnhFp0qZWmNcYJIbwVc5Dojec/IhOfT05AuGsPlZ1oTjTpUbD6C3d8W4i5260XrEDwLgy/3NgNLQMLOW2+JMtGUdhk7egy0zig2TT4XvtSh5KY+KmtXz/91PIL0DgpHwBp7L8PKLnugDkO+qFn3T2XyI7+9ACw4AkK3+CZ64lytTxPGm0Jt6Ho72/f2KyOrl2NcY/xyYHW3UwhNUSnChVstwQHhcphPAHEpEC8RGtYxx6NyuTYpOhkZFKqz02NxyE6M/otFUyQXeNG7Qd9RuNZLoHIIUF3Q/KDOatjPOLijToLtWhWZwr61597854w0p8F92UJNGATr7nE9619pGteWfQoP2rwj+QXE82GXb1Iq58WM9ksnb/+BO63ZuDsi3nu+5f2oSYhDB+FQW03tQ74MBcQ/2j6toQpr9QJ1HDxwyjPHql/0cRfNpfi8EbnILumJs2Blnz1h1yn9q1faNz1oVMJHHms8csZ4MCU8P/DLrSjfq68=
  - secure: BAFm6CSMWmNdp4qWCR9eX1ZTjHdGYSIe0/aWIHeDFjMUgXDUDnACOvSL+GUNjXpNWeROMZE4ZCHXxCawCpYFM695JOPluVG01VSSXZZ4D34F0+96d0+AGj1lzK0WFNlKQoSHrnkXcOsCJrSMyPJaOUNGdMVXhkj5FZ2pjYcQ7ILI42I1y65HnhcLKPNd0IX+FOy7fcKQI0vbkywHFFCF4VsGqcUksOKxbDndDn1Qm9dlf9tKxOVy7cAlRCYttzlqiwB+rYbGfLTcIpbBIc6B+16jYYtYQJn+UmvJ1WP0mc6/XRx7Uu0N9vAnkkrqwVxR393z+mZhtameTkf9esOzxZcXM0G7J6CU+/VjCOcn7zAs9j5UGjiVUaX7YDKr1gYlR0k7rIRBwW1gUOenjF2QplPFFy+T52oE5FNd2wE55c+ii301MXt+t6mbRLQFzHHAciv9cKF9l6X8VvGqg+KQGGPUUBI7KKjJfFxxSb1evgWl5zNJ/Zs1HGsqLri358xUI8F7f3LlQBeMm0wiL4wer11ARECMWiE/NJq6oX9eD9TOHwsac0vSWUFUV/bZT0WBIS5I0yO6F2ouJffdF6+4sctufFvYXIiRj7MtDNUsdi+UAh06FXFCheyGg2EolejP9ywm4LdWtQ7a2vYH8DjFzxC4+OMF4XPEwXloeV0No/E=
  - secure: pheNi/WRYzzDeVROeyVCfBRBKacvX2Duud8jVkTBYSlmuv3vrWACfY/Sx8Tl6cEBBUW6DuGMztru24KhR5B2pKMKO6XvF5VqmiBps+f8hh4aH+40VlCjk4z+Yt+FtycP7OVRgAuFAIjvjHeQL242wpEM5z5BZdPSzWxTSvTcXsD+boz1tLumg7DN7IZJpZrmuPQxZFgYUC9C/bt7tNxhK59Cfz16eQjy7hqYn19RGH84ez2/i8cssLFNqo5r7ELQsQR+UyFhD+/iHAO7V6yHX5mlAWm+LrR/+LShE5LHPgm/yCYGI6ee+ZZPA1pt+yEMl729GADFtwtADbLQlWS/+VkiVZRLxnTxJXaLLMU/asLAcM3p02NL8hYjhCdqqUUnhnW6uQWxyaLedc5vnxzZaiWpeH+NC2SR+wJSghFt+hjgG1S9jI+CWkFzpggQyHENRbTFiffeGK3CA7brGy/QZxG4GoSFXoO7rO/aVzuieP1eZ365l4JN5qRdl+XhXGeAKfJ6o0lwGhAqS/SoemRrVEu/j49ZXDjnvGLKHBSewBMdaUhcYA4qu1nBnIH3KKVeQrbiDIZ6eS8ZouqAqhWchdVrZnrfJ/9GxKAlqnf5XItaVyVB3l9VeKihL9bfm4XxQqbA6yqEovMDt3An1f6WnCmzdrmFaoXMb00RTOjrphI=
  - secure: tVzYMUmFp57n0O7uS7+Pb6jQB6fxPlsz8T9eBSF4XBKOFpVny/st5Aa44DqAD6vuVj9IFQ+6jjwt/jzOrwRNqFpaMmgSidChg20zK7Su4r1MrpMnE06jZxWnuq+XAi1Ef1fjxs8k34ZRUzt3Y9YkDKAVo50m4HTbQNBqxKUuegoeeGjD6TWMFCGOwVTjTVaD+xP5gM1kqUlfrkFIwfWiYl44qFx0IU2a64638jI0AaMgLjl1Dst8pDfWrTEwqHht7tTjMjtZ8nxIlGjI2fuLGEyZLrStAKHsctOHtS0vRyI43fN/VUppL5JjVtiw7tOkhSlGfifX+9jDZAvbkd6ZLhu3zSy7Tdlg/0f6R0clrq8J8F7v5R1EkPCb3bLkWjXJImSOXF8aJ7EX/lOzcqFuTfw1FchaOZm4gaGka8SIb8tbqqtSKhAZQHzFJWdmRPWO0Ss6DsC0eQiiGiulrXuaVOts05XkzksdZgA2nTFCwEtc63s4sZ8SElwCD+dPtttbx2Tnnhs2ZmiqJU7XQ96HSivcwWLWlrEfVEZRuvF59VjqUDKnde1FCm5M3KJchRv6naew7emXLGqF97fisJC3C0jhbTyz/mFDwgwVhAiuyE61WNbH4uxvrwLlYb2vnb34u9VhgQ0JkvsvTLSnXKTxnBiljz+BkC+cEaQBxoUyuvs=
  - secure: O6c6a6hNr9T8XWakJL9tWbPANd3N+RAbpmK1VWhRP1JER8h4Fl/9QaSGI77DAjoby4MO/XcoFg5OP4gML7F8S5kDlnUFc9BORgCIokodhQAMAInZ2muMl5o9q/zGahDgqP0a3sPeLcQzd+QJAKiqgbUas14Wacby/iGh2KehXcWiwA7p1bwlQCIy1wDzJwjTOTlh/sexA6ai/uJRKK7DSlPkfp+yJnoqNkyxpUFTdQAzH0otcdD6UmoI6gGdUaDjEDctRxfmUUgFU6FPKb7p46ZfiqIp4kcInvKiENrub7yPJ+fR1SZLMBofXdGxBMPNrPem0Hjc+aVuByK5YF2+kwI8Z7xI6+FVbxj2zQ+JdO7IJ5ARM+0+RkujMSYuwOBIm3CGdounK4beLOv/q0koOYmwK5ds9Vmpljth2QfTluiWIHMqee8APaOxmP3lNF327Q90fynHKyNiqauHnM26jA4Hu6ov6ohxhci7c8B06bqsKkStjY1tBqIhKo/icSMR91UQEK7CnFcN0z2D4lYD41zH6vuB7g+u+RoFEh9aTpEwWlDk0SWe8zrxpl4qQbwS6A3aRlaYNrU9l17k2Pb0BFomxK/cdsnbcIouLxXgA470P4B1jLBHHJgS6ModvKJk8jK9/cbd+L8xwB52YUAgDABLE0or8s8dxn7DbWccPho=
  - secure: E0Qx3D92+YP/7if42Bh0FchCQC+srDVyy7jnCBEK2A4nBWjl88AMFD06j0vaOe4HgiNwm79FyG30PZgwflPSLrql+5mL/B73vsSEuEt+v0w5C/ezQItNzkyr2bRZfHakPv8W2F/H/jD+m/kqdVwIIdWZ8EaSTk5RFtSWGs0xVfZDAysQ9PotHqrL0b8HMUtBJKCXCUU6L3F7qpxd5bOL7eWGczYP/HQ3xBMhOfm5W1rIZJZSfEW9ngNmGmyHmMSeQlkPGWcpma7dd/861uSjvsTdD5hR+7Om9ry6XRSbhtiLgIT+OhhXqDzZeHI9lKtO29tUnuD0R8m1wMlJHr7Vl2e5B/EwLopxhHXwLP75DJ7WIjdCFIFUuUTTKDtJuAMQlEG/m65guAed+OeFHdAMzh6h7RHzoUz1OovggZ/uMIoZOlYdChq9Gi3qU3/j0mLUxbyFAQ9GJ3GOmWLnEJIstBsbkdk5QeNDxuykFy5bYhWoG7SEUK2Gkk8N784Y8fB5ft4BdR9jWNy9BhotnHKU3HmrJswoIv7S/w6BEfcrtWva1SXlEMK0vf/feBRo0dIBrnmRwlzcr7oU0k/wFPQPiud2yXYKMnjHJyh94s3ZxnvtkgyJv4X4tRMOnCHm8rjIBhjWnM3ScwP+9ilwO1gj5uXplrDwSLiOd6Opirwos8M=
  - secure: e8u/WTiGsTYyGqgsrqjmAsZ5nwUu6oznrUM9bDXDEmwUApfTCoBgZY5TRwrWaY5K+yDFdLFDVLy3w2jpZ5GtSxYIYPBZ8yhHELTTfPBdDANue8kpeuK6+GvzJuiVmZURHIeT6bMjq59IKNKibiHU8R7JTH5CyEr5X4LfoZLE3F46NNarNj8fqOMbVebtJfaI2IaU0qPZy5JLaai8bB0w2gowH8ycrliBJOI3qY2zxyfeht5GN8sCNdbYJH/HEfU/As4GGI7MtcU5YsTn/bdV1Lqp92FHOwN+cy6bxXNFnx+usXO5iU9jGcKC05v+ZjMDcA5vKtIQW4hLjawbesSm2Pb5UQNMb/Jy7FHxSg/rQPbiCcczO69JgXcQbv73LXb7F+d2XSs4lBGb3cS1SZk+PU0sjCTJVeDcrjOsr9gzMTADU09wN9Hm4+/X9J/8CvO9byZ20I7386pE7oW27lfUGt4e8LULOmgQoHJJp22JL4Egmlp8b6uld/i8S1eAsOHcQ598unkIYDwYMAU5Rfvnjwg6wQXjVvfwn7sKX9EEx7S3NDUz0xTfRb+OYTfcwGQNbkileZpe8C9MUbjCKDTiJVGAtIVwh7jhjsCppAovC+oBpekCnFrftfBMWJI2+YVC4uAmnlw9qwl+uBasuWJxi4lO8+5A+JU8zw8M9gnG/xE=
  - secure: APpqQI7eK57cbjE/fyuLbp1oeNjAb7KjvzhQTw4mwg3Z/acROMUd9MatKTKl6DpA4kBtqVGFZo4X2MF6nOwiAveRBjbwNirELbiFMKZgbDX0MAl2YPI2OhL/wxnHXK/qImhXI/iA93Faqo/gMYqEkw+/cforHFc5vPXSRNv+Bfg3gu3EneH0SvpiSHCupHGdGTvlFdBlCEqsi3tTrl1xj+hfUv1WhPwnbb0LXXN381g1oWrySpOcVUun+z6idg85jnD75I/tiS4bGVjL66pgP+RN7ShPLOyfAZyO7yzekCtOvew/hsMNYHWUUsGgamywmFFZ2c+7T9E+UBLK1s+bWZ7dMNZoQhN/UMmvqTk+0WssdXT2+edl58HS/TUW3UkEY4ueLX9qkaaneClWN+AiXyyfflfwC7ragyp67SbprAz37p6O1J4Ojb0b14QJHtNxifsaonZCkcH1a1IEIfDyp5PuXqJRNgToAlozwl09meb3lAT3kRewbiMwoEOUP6rX8GRFyIHoZalIA6krEKdk+uXOYDgZMzBy8rDhyPRaGGx04249rjEeec3UubxhMv8bZQUMjrZ5iV6L266/VrdI2D86xS9hOYK7smJpFC9lhgkP4LxdDHajukUwaYPDT0J6qE1U5P5YJxY7ldbfffCfbP2evVUHMnuBzJ58eMZJjPg=
script:
- bundle exec rspec
services:
- redis-server
addons:
  postgresql: '9.4'
before_script:
- cp config/database.yml.travis config/database.yml
- psql -c 'create database travis_ci_test;' -U postgres
- bundle exec rake db:migrate
install: bundle install --jobs=3 --retry=3
